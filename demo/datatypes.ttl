@prefix sh:  <http://www.w3.org/ns/shacl#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix uni: <http://www.example.org/university#> .
@prefix courses: <http://www.example.org/courses20212022#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@base <http://www.example.org/university> .

# Point d'entr√©e pour le formulaire
uni:EntryShape
    a sh:NodeShape ;
    sh:property [
        sh:path uni:entry ;
        sh:name "Select entity to create" ;
        sh:or (
            [ sh:node uni:StudentShape ; rdfs:label "Student" ]
            [ sh:node uni:CourseShape ; rdfs:label "Course" ]
            [ sh:node uni:DepartmentShape ; rdfs:label "Department" ]
            [ sh:node uni:FacultyShape ; rdfs:label "Faculty" ]
            [ sh:node uni:LecturerShape ; rdfs:label "Lecturer" ]
        ) ;
    ] .

# Contraintes sur uni:Student
uni:StudentShape
    a sh:NodeShape ;
    sh:targetClass uni:Student ;
    sh:property [
        sh:path uni:studentID ;
        sh:datatype xsd:integer ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path uni:firstName ;
        sh:datatype xsd:string ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path uni:familyName ;
        sh:datatype xsd:string ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path uni:dateOfBirth ;
        sh:datatype xsd:date ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path uni:year ;
        sh:datatype xsd:integer ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path uni:enrolledIn ;
        sh:class uni:Course ;
        sh:node uni:CourseShape ;
        sh:nodeKind sh:IRI ;
    ] .

# Contraintes sur uni:Course
uni:CourseShape
    a sh:NodeShape ;
    sh:targetClass uni:Course ;
    sh:property [
        sh:path uni:courseID ;
        sh:datatype xsd:integer ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path uni:courseName ;
        sh:datatype xsd:string ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path uni:classroom ;
        sh:datatype xsd:string ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path uni:scheduledOn ;
        sh:datatype xsd:string ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
    ] .

# Contraintes sur uni:Department
uni:DepartmentShape
    a sh:NodeShape ;
    sh:targetClass uni:Department ;
    sh:property [
        sh:path uni:departmentID ;
        sh:datatype xsd:integer ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path uni:departmentName ;
        sh:datatype xsd:string ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path uni:partOf ;
        sh:class uni:Faculty ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:node uni:FacultyShape ;
    ] ;
    sh:property [
        sh:path uni:organizes ;
        sh:class uni:Course ;
        sh:node uni:CourseShape ;
        sh:minCount 0 ;
    ] .

# Contraintes sur uni:Faculty
uni:FacultyShape
    a sh:NodeShape ;
    sh:targetClass uni:Faculty ;
    sh:property [
        sh:path uni:facultyID ;
        sh:datatype xsd:integer ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path uni:facultyName ;
        sh:datatype xsd:string ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
    ] .

# Contraintes sur uni:Lecturer
uni:LecturerShape
    a sh:NodeShape ;
    sh:targetClass uni:Lecturer ;
    sh:property [
        sh:path uni:lecturerID ;
        sh:datatype xsd:integer ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path uni:firstName ;
        sh:datatype xsd:string ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path uni:familyName ;
        sh:datatype xsd:string ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path uni:dateOfBirth ;
        sh:datatype xsd:dateTime ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
    ] ;
    sh:property [
        sh:path uni:teaches ;
        sh:class uni:Course ;
        sh:node uni:CourseShape ;
        sh:nodeKind sh:IRI ;
    ] .